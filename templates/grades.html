{% load static %}

<!Doctype html>

<head>
  <meta charset="UTF-8">
  <meta name="description" content="This is a project management website.Uploading of projects and grading takeplace on a single platform">
  <meta name="keywords" content="Project Management">
  <meta name="author" content="Ketki Chavan">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!--css links-->
<!--bootstrap-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"> 
<!-- toastify -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"> 
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<!-- icons -->
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css'>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
<!--main css-->

<link rel="stylesheet" type="text/css" href="{% static 'styles/styles.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'styles/style.css' %}">

<!-- scripts -->
<!-- bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<!-- icons -->
<script src="https://kit.fontawesome.com/fee06b6511.js" crossorigin="anonymous"></script>
<!--charts, jquery, popper-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script>
    var page = window.location.pathname.split('/')
    page = page[page.length - 1]

    var nav = document.querySelector('a[href="' + page + '"]')
    if (nav) {
      nav.classList.add('active')
    }
  </script>
  <style>
    .card {
      margin: 0 auto;
      /* Added */
      float: none;
      /* Added */
      margin-bottom: 10px;
      /* Added */
      margin-left: 50px;
      margin-right: 50px;
      margin-top: 50px;
    }

    .end {
      padding-left: 98%;
    }

    .submit a {
      color: white;
      background-color: #5A827F;
      padding: 5px 11px;
      border-style: 2px solid
    }

    .submit a:hover {
      border-color: white;
    }
  </style>
</head>
<body>
{% if user.is_authenticated %}
<nav class="navbar  sticky-top  justify-content-between" style="background-color: #3330A3;">
  <div>
    <a href="/Tinfo/">
      <i class="fas fa-user-graduate fa-2x" style="color : #fff"></i>
    </a>

    &nbsp;

    <a class="navbar-brand text-white">Hello, Prof.{{user.first_name}}</a>
  </div>

  <div class="navbar justify-content-end">
    <a class="btn btn-main btn-primary m-1" href="/miniprojview/">All Projects</a>
  </div>
{% endif %}
</nav>
  <!-- form for details -->
  <div class="container-fluid px-1 py-5 mx-auto">
    <div class="row d-flex justify-content-center">
        <div class="col-xl-10 col-lg-8 col-md-9 col-11">
              <div class="card">
              <form method="POST">
                {% csrf_token %}
                <h3 class="justify-content-between text-center mb-4">Grade Project</h3>
                <h5 class="card-title justify-content-between text-center">Grading Instructions: <br>
                    Rate (1): Below Average (2): Average (3): Good (4): Excellent (5): Outstanding</h5>
                <hr>
                {% for i in new %}
                <div class="justify-content-between text-center">
                    <label>Project ID:</label>
                    <input type="text" value="{{i.id}}" name=pid readonly>
                </div>
                {% endfor %}
                <div class="row justify-content-between text-left mt-4">
                    <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Rate Idea implementation of the project<span class="text-danger"> *</span></label> <input type="number" min="1" max="5" step="1" id="n1" name="m1" value="m1" placeholder="" pattern="\d+"></div>
                    <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Rate Uniqueness of the project<span class="text-danger"> *</span></label> <input type="number" min="1" max="5" step="1" id="n1" name="m2" value="m2" pattern="\d+"
                        required="required"></div>
                </div>

                <div class="row justify-content-between text-left mt-4">
                    <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Rate Future use of the project<span class="text-danger"> *</span></label> <input type="number" min="1" max="5" step="1" id="n1" name="m3" value="m3" pattern="\d+"
                        required="required"></div>
                    <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Rate the overall project<span class="text-danger"> *</span></label> <input type="number" min="1" max="5" step="1" id="n1" name="m4" value="m4" pattern="\d+"
                        required></div>
                </div>

                <div class="row justify-content-between text-left mt-4">
                    <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Endrose the project?(Special Appreciation):
                        <span class="text-danger"> *</span></label> 
                        <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                            <input type="radio" class="btn-check" name="endorsement1" id="btnradio1" autocomplete="off"
                              required>
                            <label class="btn btn-main btn-danger mr-2" for="btnradio1">No</label>
    
                            <input type="radio" class="btn-check" name="endorsement1" id="btnradio2" autocomplete="off">
                            <label class="btn btn-main btn-success" for="btnradio2">Yes</label>
                          </div>
                    </div>
                    <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Any Suggestions
                        <span class="text-danger"> *</span></label>
                        <textarea id="t3" row="4" name="suggestions" required></textarea>
                    </div>
                </div>

                <input type="hidden" name="avgtotal" readonly>
                <input type="hidden" name="endorsement" readonly>
                <!--Submit button-->
                <div class="row mt-4">
                  <div class="col">
                    <button class="btn btn-main btn-primary" type="submit" id="marks" onclick="calcSum()">Submit</button>
                  </div>
                </div>

              </form>
            </div>
        </div>
    </div>
  </div>
  </div>
  <script>
    function calcSum() {
      let endorsement = 0
      var ele = document.getElementsByName('endorsement1');


      if (ele[1].checked) {
        endorsement = 5
      }

      let m1 = document.getElementsByName("m1")[0].value;
      let m2 = document.getElementsByName("m2")[0].value;
      let m3 = document.getElementsByName("m3")[0].value;
      let m4 = document.getElementsByName("m4")[0].value;
      let sum = Number(m1) + Number(m2) + Number(m3) + Number(m4) + endorsement;
      //console.log(sum)
      let avgtotal = Math.floor(sum / 5);
      document.getElementsByName("avgtotal")[0].value = avgtotal;
      document.getElementsByName("endorsement")[0].value = endorsement;
    }
  </script>
  <script>
    document.getElementById("marks").addEventListener("click", function () {

      localStorage.setItem('Projectgraded', true);
    });

  </script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>